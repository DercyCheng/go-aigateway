# ============================================
# 基础配置
# ============================================

# 项目信息
PROJECT_NAME=ai-gateway
VERSION=1.0.0
ENVIRONMENT=production

# ============================================
# 服务端口配置
# ============================================

# 前端服务
FRONTEND_PORT=3000
FRONTEND_HOST=0.0.0.0

# 后端服务
BACKEND_PORT=8080
BACKEND_HOST=0.0.0.0

# Python 模型服务
PYTHON_PORT=5000
PYTHON_HOST=0.0.0.0

# 数据库
POSTGRES_PORT=5432
POSTGRES_HOST=postgres
POSTGRES_DB=ai_gateway
POSTGRES_USER=aigateway
POSTGRES_PASSWORD=change_me_in_production_super_secure_password_2024

# Redis
REDIS_PORT=6379
REDIS_HOST=redis
REDIS_PASSWORD=change_me_redis_password_2024

# Consul (服务发现)
CONSUL_PORT=8500
CONSUL_HOST=consul

# Prometheus (监控)
PROMETHEUS_PORT=9090

# Grafana (监控面板)
GRAFANA_PORT=3001

# ============================================
# 应用配置
# ============================================

# JWT 配置 (生产环境必须修改)
JWT_SECRET=change_me_jwt_super_secret_key_for_production_environment_2024
JWT_EXPIRY=24h

# API 配置
API_VERSION=v1
API_PREFIX=/api

# CORS 配置
CORS_ENABLED=true
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://api.yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# ============================================
# 服务发现配置
# ============================================

SERVICE_DISCOVERY_ENABLED=true
SERVICE_DISCOVERY_TYPE=consul
# 可选值: static, consul, etcd, kubernetes, nacos

# Consul 配置
CONSUL_ADDR=consul:8500
CONSUL_TOKEN=change_me_consul_token_2024
CONSUL_DATACENTER=dc1

# ============================================
# 协议转换配置
# ============================================

PROTOCOL_CONVERSION_ENABLED=true
HTTP_TO_GRPC_ENABLED=true
GRPC_SUPPORT=true
WEBSOCKET_ENABLED=true
GRAPHQL_ENABLED=true

# ============================================
# 监控配置
# ============================================

MONITORING_ENABLED=true
PROMETHEUS_ENABLED=true
ALERTS_ENABLED=true
METRICS_RETENTION=30d

# 健康检查
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30s

# ============================================
# 缓存配置
# ============================================

CACHE_ENABLED=true
REDIS_ENABLED=true
REDIS_DB=0
REDIS_POOL_SIZE=50
CACHE_TTL=3600

# ============================================
# 限流配置
# ============================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# ============================================
# 安全配置
# ============================================

# HTTPS
TLS_ENABLED=true
REQUIRE_HTTPS=true

# API 密钥
API_KEY_PREFIX=ak_
MAX_API_KEYS=100

# ============================================
# 日志配置
# ============================================

LOG_LEVEL=info
LOG_FORMAT=json
# 可选值: json, text

# ============================================
# 自动扩缩容配置
# ============================================

AUTOSCALING_ENABLED=true
MIN_REPLICAS=2
MAX_REPLICAS=20
TARGET_CPU=70.0
TARGET_QPS=5000
SCALE_UP_COOLDOWN=3m
SCALE_DOWN_COOLDOWN=5m

# ============================================
# Python 模型配置
# ============================================

# 模型配置
MODEL_TYPE=chat
MODEL_SIZE=large
USE_THIRD_PARTY=true

# HuggingFace 配置 (国内镜像)
HF_ENDPOINT=https://hf-mirror.com
HF_HOME=/app/.cache/huggingface

# 第三方 API 配置 (阿里云百炼等)
BAILIAN_API_KEY=change_me_bailian_api_key
BAILIAN_BASE_URL=https://dashscope.aliyuncs.com/api/v1

# ============================================
# 云集成配置
# ============================================

CLOUD_INTEGRATION_ENABLED=true

# 阿里云配置
ALIYUN_ACCESS_KEY_ID=change_me_aliyun_access_key_id
ALIYUN_ACCESS_KEY_SECRET=change_me_aliyun_access_key_secret
ALIYUN_REGION=cn-hangzhou

# AWS 配置
AWS_ACCESS_KEY_ID=change_me_aws_access_key_id
AWS_SECRET_ACCESS_KEY=change_me_aws_secret_access_key
AWS_REGION=ap-southeast-1

# Azure 配置
AZURE_CLIENT_ID=change_me_azure_client_id
AZURE_CLIENT_SECRET=change_me_azure_client_secret
AZURE_TENANT_ID=change_me_azure_tenant_id

# GCP 配置
GCP_PROJECT_ID=change_me_gcp_project_id
GCP_CREDENTIALS_PATH=/app/config/gcp-credentials.json

# ============================================
# 生产环境配置
# ============================================

# 热重载
HOT_RELOAD=false

# 调试模式
DEBUG_MODE=false

# 代码检查
LINT_ENABLED=false

# 性能优化
GZIP_ENABLED=true
KEEP_ALIVE_ENABLED=true
CONNECTION_POOL_SIZE=100

# ============================================
# 中国内地镜像源配置
# ============================================

# Go 模块代理
GOPROXY=https://goproxy.cn,direct
GOSUMDB=sum.golang.google.cn

# Python PyPI 镜像
PIP_INDEX_URL=https://pypi.tuna.tsinghua.edu.cn/simple
PIP_TRUSTED_HOST=pypi.tuna.tsinghua.edu.cn

# Node.js npm 镜像
NPM_REGISTRY=https://registry.npmmirror.com

# Alpine 镜像源
ALPINE_MIRROR=mirrors.aliyun.com

# Docker 构建配置
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# ============================================
# SSL 证书配置
# ============================================

SSL_CERT_PATH=/app/ssl/server.crt
SSL_KEY_PATH=/app/ssl/server.key
SSL_CA_PATH=/app/ssl/ca.crt

# ============================================
# 备份配置
# ============================================

BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # 每天凌晨2点
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=ai-gateway-backups
BACKUP_S3_REGION=cn-hangzhou
