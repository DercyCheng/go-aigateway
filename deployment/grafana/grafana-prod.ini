# Grafana 生产环境配置

[server]
http_port = 3000
domain = yourdomain.com
root_url = https://yourdomain.com:3001
cert_file = /etc/grafana/ssl/server.crt
cert_key = /etc/grafana/ssl/server.key
protocol = https

[database]
type = postgres
host = postgres:5432
name = grafana
user = grafana
password = change_me_grafana_db_password_2024

[session]
provider = postgres
provider_config = host=postgres port=5432 user=grafana password=change_me_grafana_session_password_2024 dbname=grafana sslmode=disable

[security]
admin_user = admin
admin_password = change_me_grafana_admin_password_2024
secret_key = change_me_grafana_secret_key_for_production_2024
cookie_secure = true
strict_transport_security = true

[auth.anonymous]
enabled = false

[auth.basic]
enabled = true

[auth.oauth]
enabled = false

[log]
mode = file
level = warn
file = /var/log/grafana/grafana.log

[alerting]
enabled = true
execute_alerts = true

[smtp]
enabled = true
host = smtp.yourdomain.com:587
user = grafana@yourdomain.com
password = change_me_smtp_password
from_address = grafana@yourdomain.com
from_name = AI Gateway Monitoring

[explore]
enabled = true

[plugins]
enable_alpha = false

[feature_toggles]
enable = ngalert

[snapshots]
external_enabled = false

[users]
allow_sign_up = false
allow_org_create = false
auto_assign_org = true
auto_assign_org_role = Viewer
